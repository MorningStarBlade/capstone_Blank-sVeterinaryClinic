<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <%- include('css/indexCss'); %>
  <%- include('css/resourceCss'); %>
  <title>Blank's Veterinary Clinic</title>
  <link rel="stylesheet" href="https://cdn.rawgit.com/openlayers/openlayers.github.io/master/en/v6.5.0/css/ol.css" type="text/css">
<script src="https://cdn.rawgit.com/openlayers/openlayers.github.io/master/en/v6.5.0/build/ol.js"></script>
</head>
<body id="body">

  <%- include('header'); %>

  <div id="main">
    <hr>
    <header>
      <h2>Resources</h2>
      <nav>
        <a href="#emergency-info">Emergency Info</a> |
        <a href="#locations">Clinic Locator</a> |
        <a href="#faq">FAQ</a> |
        <a href="#additional-resources">Additional Resources</a>
      </nav>
      <!--Search Bar-->
      <div id="search-container">
        <input type="text" id="searchBar" placeholder="Search..." aria-label="Search">
        <button onclick="searchContent()">Search</button>
      </div>
      
    </header>
    <br>
    <hr>
    <section id="emergency-info">
      <h2>Emergency Information</h2>
      
      <p>If your pet is experiencing an emergency, please follow the steps below and contact us immediately at the provided emergency contact number.</p>
      
      <div class="contacts">
        <h2>Contact Information</h2>
        <p class="emergency-contact">Emergency Hotline: (123) 456-7890</p>
        <p class="emergency-contact">After-Hours Number: (123) 456-7891</p>
        <p>Address for emergency clinic visits: 123 Pet Health Drive, Petville, WI 12345</p>
      </div>
      
      <div class="procedures">
        <h2>Immediate Steps in an Emergency</h2>
        <ul class="procedure-list">
          <li>Remain calm and carefully assess the situation.</li>
          <li>If possible, safely transport your pet to our clinic, or the nearest emergency veterinary clinic.</li>
          <li>Call ahead to the emergency number provided so the clinic can prepare for your arrival.</li>
          <li>Avoid giving any medications or home remedies without consulting a vet first.</li>
          <li>Bring any relevant medical history or information about your pet.</li>
        </ul>
      </div>
    </section>
    <br>
    <hr>
    <section id="locations">
      <h3>Find the nearest clinic near you:</h3>
      <p>
        Access Blank's Vet Clinic locations easily with our interactive map. Just enter your zip code and click "Find Nearest Clinic" to view the closest facility. The map will zoom in on the location, and you can click markers for details about each clinic. This feature is designed for convenience and can be used on any device, ensuring you're always just a few clicks away from finding the best care for your pet.
      </p>
      <div class="zip-input-container">
        <label for="zip-code">Enter Zip Code:</label>
        <input type="text" id="zip-code" name="zip-code">
        <button onclick="focusOnNearestClinic()">Find Nearest Clinic</button>
      </div>
      <br>
      <div id="map" class="map"></div>
      <script type="text/javascript">

        var zipCodeToCoordinatesMap = {
          '54701': [-91.4984941, 44.811349], // Eau Claire, WI
          '53202': [-87.9064736, 43.0389025], // Milwaukee, WI
          '53703': [-89.4012302, 43.0730517], // Madison, WI
          '54301': [-88.019826, 44.519159],   // Green Bay, WI
          '54911': [-87.657584, 44.261931],   // Appleton, WI
        };
      
        // Initialize map
        var map = new ol.Map({
          target: 'map',
          layers: [
            new ol.layer.Tile({
              source: new ol.source.OSM()
            })
          ],
          view: new ol.View({
            center: ol.proj.fromLonLat([37.41, 8.82]), // Center of the clinic locations
            zoom: 4
          })
        });
      
        function focusOnNearestClinic() {
          var zipCodeInput = document.getElementById('zip-code').value.trim();
          var coordinates = zipCodeToCoordinatesMap[zipCodeInput];
      
          if (coordinates) {
            map.getView().animate({ center: ol.proj.fromLonLat(coordinates), zoom: 10 });
          } else {
            alert("No clinic found for this zip code. Please enter a valid zip code.");
          }
        }
      </script>
    </section>
    <br>
    <hr>
    <section id="faq">
      <h3>FAQ</h3>
      <h4 onclick="toggleContent('question1', 'icon1');" class="toggle-icon">
      <span id="icon1">►</span>What are the clinic's hours of operation?</h4>
      <div id="question1" style="display: none;">
          <p>
            Our doors swing open at the crack of 9 AM, just after our coffee machines start percolating the elixir of life. We wrap up at 5 PM, because even our stethoscopes need their beauty sleep. We're here Monday to Friday, but on weekends, we let the clinic's ghost keep an eye on things.
          </p>
      </div>

      <h4 onclick="toggleContent('question2', 'icon2');" class="toggle-icon">
      <span id="icon2">►</span>Do I need an appointment to see a vet, or do you accept walk-ins?</h4>
      <div id="question2" style="display: none;">
          <p>
            Appointments are preferred—it helps us ensure your pet isn't kept waiting while we're playing hide and seek with a particularly cunning hamster. But if you decide to just swan in, we'll fit you in between the tickles and treats sessions. Just be warned, our lobby magazine selection hasn't been updated since the '90s.
          </p>
      </div>

      <h4 onclick="toggleContent('question3', 'icon3');" class="toggle-icon">
      <span id="icon3">►</span>What kind of animals do you treat at your clinic?</h4>
      <div id="question3" style="display: none;">
          <p>
            We treat all creatures great and small, except maybe dinosaurs—still working on that time machine. Dogs, cats, rabbits, birds, lizards, and pocket pets are all welcome. If your pet can fit through the door without us having to call in structural engineers, we're probably equipped to handle it.
          </p>
      </div>
    </section>
    <hr>
    <br>
    <section id="additional-resources">  
        <h3>Helpful links about Pet Health:</h3>
        <ul>
          <li>
            <a href="https://www.aaha.org/your-pet/pet-owner-education/" target="_blank">AAHA Pet Owner Resources</a> - Reliable pet care, health, and wellness information reviewed by veterinary professionals.
          </li>
          <li>
            <a href="https://www.aspca.org/pet-care/animal-poison-control" target="_blank">ASPCA Animal Poison Control Center</a> - Essential resource for pet poisoning emergencies with a 24/7 hotline.
          </li>
          <li>
            <a href="https://veterinarypartner.vin.com/default.aspx?pid=19239&id=4951486" target="_blank">Veterinary Partner - Behavior Articles</a> - Expert advice on pet behavior, training tips, and managing behavioral issues.
          </li>
        </ul>
      </section>
      <br>

  <%- include('footer'); %>

    <script>
      // For FAQ dropdown menu
      function toggleContent(id, iconId) {
        var content = document.getElementById(id);
        var icon = document.getElementById(iconId);
        if (content.style.display === "block") {
          content.style.display = "none";
          icon.innerHTML = '►';
        } else {
          content.style.display = "block";
          icon.innerHTML = '▼';
        }
      }

      // For Search Bar
      function searchContent() {
        // Retrieve the search query
        var input = document.getElementById('searchBar');
        var filter = input.value.toUpperCase();
        
        // Retrieve all the sections that might contain the searchable content
        var sections = document.querySelectorAll('section');

        // Loop through all sections and hide those that don't match the search query
        sections.forEach(function(section) {
          // Retrieve all text elements within the section
          var textElements = section.querySelectorAll('h1, h2, h3, h4, p, li');
          
          // This flag will be true if any text element within the section matches the search query
          var sectionContainsQuery = Array.from(textElements).some(function(element) {
            var textValue = element.textContent || element.innerText;
            return textValue.toUpperCase().indexOf(filter) > -1;
          });

          // Show or hide the entire section based on the flag
          section.style.display = sectionContainsQuery ? '' : 'none';
        });
    }
    </script>
    </div>
</body>
</html>